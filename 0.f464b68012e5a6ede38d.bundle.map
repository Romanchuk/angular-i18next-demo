{"version":3,"sources":["webpack:///./src/app/features/rich_form_feature/RichFormFeatureModule.ts","webpack:///./src/lib/validation/services/ValidationDirtyChecker.ts","webpack:///./src/app/features/rich_form_feature/rich-form.component.ts","webpack:///./src/lib/validation/ValidationModule.ts","webpack:///./src/lib/validation/directives/ValidationOnBlurDirective.ts","webpack:///./src/app/features/rich_form_feature/rich-form.model.ts","webpack:///./src/app/features/rich_form_feature/rich-form.component.html","webpack:///./src/app/features/rich_form_feature/RichFormFeatureRouterModule.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAA+C;AACN;AACsC;AACZ;AACS;AACA;AAClB;AACkB;AAKrE,IAAM,YAAY,GAAG;IAC1B,+EAAiB;CAClB,CAAC;AAEK,IAAM,SAAS,GAAG;IACvB,mEAAW;IACX;QACE,OAAO,EAAE,0EAAiB;QAC1B,QAAQ,EAAE,CAAC,wBAAwB,EAAE,mBAAmB,CAAC;KAC1D;CACF,CAAC;AAoBF;IAAA;IAAoC,CAAC;IAAxB,qBAAqB;QAlBjC,uEAAQ,CAAC;YACR,SAAS,EAAE,YAAY;YACvB,YAAY,EAAE,YAAY;YAC1B,SAAS,EAAE,SAAS;YACpB,OAAO,EAAE;gBACP,MAAM;gBACN,qEAAY;gBACZ,mEAAW;gBACX,2EAAmB;gBACnB,SAAS;gBACT,iGAA2B;gBAE3B,KAAK;gBACL,sEAAa;gBACb,0FAAgB;gBAChB,kGAA8B;aAC/B;SACF,CAAC;OACW,qBAAqB,CAAG;IAAD,4BAAC;CAAA;AAAH;;;;;;;;;;;;;;AC1CS;AAC4B;AAGvE;IAAA;IAYA,CAAC;IAXC,kDAAiB,GAAjB,UAAkB,KAA4B;QAC5C,IAAI,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAC;QAC9B,KAAK,IAAI,EAAE,IAAI,QAAQ,EAAE;YACvB,IAAI,QAAQ,CAAC,cAAc,CAAC,EAAE,CAAC,EAAE;gBAC/B,IAAI,CAAC,GAAoB,QAAQ,CAAC,EAAE,CAAC,CAAC;gBACtC,CAAC,CAAC,WAAW,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;gBAClC,IAAI,CAAC,YAAY,iEAAS,IAAI,CAAC,YAAY,iEAAS;oBAClD,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;aAC7B;SACF;IACH,CAAC;IAXU,sBAAsB;QADlC,yEAAU,EAAE;OACA,sBAAsB,CAYlC;IAAD,6BAAC;CAAA;AAZkC;;;;;;;;;;;;;;;;ACJkC;AACD;AAE6B;AAC/C;AAOlD;IAKE,2BAAoB,EAAe,EAAU,GAA2B;QAApD,OAAE,GAAF,EAAE,CAAa;QAAU,QAAG,GAAH,GAAG,CAAwB;QAFxE,UAAK,GAAkB,IAAI,uEAAa,EAAE,CAAC;QAGzC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YACxB,OAAO,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,kEAAU,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,kEAAU,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YACnE,OAAO,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,kEAAU,CAAC,KAAK,CAAC,CAAC;YAC/C,kBAAkB,EAAE,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;gBAChC,WAAW,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,SAAS,EAAE,CAAC,kEAAU,CAAC,QAAQ,CAAC,CAAC;gBAC3E,UAAU,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,QAAQ,EAAE,CAAC,kEAAU,CAAC,QAAQ,CAAC,CAAC;gBACzE,YAAY,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,UAAU,EAAE,CAAC,kEAAU,CAAC,QAAQ,CAAC,CAAC;aAC9E,CAAC;SACH,CAAC,CAAC;IACL,CAAC;IAGD,oCAAQ,GAAR;IAEA,CAAC;IAED,oCAAQ,GAAR,UAAS,CAAQ;QACf,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC,sBAAsB,EAAE,CAAC;QAEhE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;YACpB,IAAI,CAAC,GAAG,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACvC;IACH,CAAC;IA5BU,iBAAiB;QAL7B,wEAAS,CAAC;YACT,QAAQ,EAAE,WAAW;YACrB,aAAa,EAAE,0EAAiB,CAAC,IAAI;YACrC,QAAQ,EAAE,mBAAO,CAAC,GAA4B,CAAC;SAChD,CAAC;gGAMwB,mEAAW,EAAe,+GAAsB;OAL7D,iBAAiB,CA6B7B;IAAD,wBAAC;CAAA;AA7B6B;;;;;;;;;;;;;;;;ACXW;AAE0C;AACR;AAGpE,IAAM,YAAY,GAAG;IAC1B,wGAAyB;CAC1B,CAAC;AASF;IAAA;IACA,CAAC;IADY,gBAAgB;QAP5B,uEAAQ,CAAC;YACR,YAAY,EAAE,YAAY;YAC1B,OAAO,EAAE,YAAY;YACrB,SAAS,EAAE;gBACT,gGAAsB;aACvB;SACF,CAAC;OACW,gBAAgB,CAC5B;IAAD,uBAAC;CAAA;AAD4B;;;;;;;;;;;;;;ACjBa;AACC;AAY3C;IAII,mCAAmB,WAAsB;QAAtB,gBAAW,GAAX,WAAW,CAAW;IACzC,CAAC;IACD,2CAAO,GAAP,UAAQ,MAAM;QACV,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,SAAS,CAAC;QACrD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,cAAc,CAAC;QAC/D,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,oBAAoB,EAAE,CAAC;QAChD,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,eAAe,EAAE,CAAC;IAC/C,CAAC;IACD,2CAAO,GAAP,UAAQ,MAAM;QACV,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,CAAC,kBAAkB;IAC9C,CAAC;IACD,4CAAQ,GAAR,UAAS,MAAM;QACX,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,CAAC,kBAAkB;IAC9C,CAAC;IACD,0CAAM,GAAN,UAAO,MAAM;QACT,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,kBAAkB,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;QAClE,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QACxD,IAAI,IAAI,CAAC,UAAU;YACf,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,sBAAsB,EAAE,CAAC;IAC1D,CAAC;IAxBQ,yBAAyB;QAVrC,wEAAS,CAAC;YACP,QAAQ,EAAE,mBAAmB;YAC7B,IAAI,EAAE;gBACF,SAAS,EAAE,iBAAiB;gBAC5B,QAAQ,EAAE,gBAAgB;gBAC1B,SAAS,EAAE,iBAAiB;gBAC5B,UAAU,EAAE,kBAAkB;aACjC;SACJ,CAAC;QACF,4DAA4D;;gGAKxB,iEAAS;OAJhC,yBAAyB,CAyBrC;IAAD,gCAAC;CAAA;AAzBqC;;;;;;;;;;ACbtC;AAAA;IAAA;IAIA,CAAC;IAAD,cAAC;AAAD,CAAC;;AAED;IAAA;QAEI,UAAK,GAAW,CAAC,CAAC;QAClB,qBAAgB,GAAY,IAAI,OAAO,EAAE,CAAC;IAC9C,CAAC;IAAD,oBAAC;AAAD,CAAC;;;;;;;;;ACVD,wEAAwE,qBAAqB,cAAc,GAAG,+VAA+V,wBAAwB,kYAAkY,wBAAwB,4SAA4S,sCAAsC,2RAA2R,iCAAiC,gBAAgB,GAAG,iaAAia,kCAAkC,gBAAgB,GAAG,wdAAwd,mCAAmC,gBAAgB,GAAG,whBAAwhB,gCAAgC,6F;;;;;;;;;;;;;;;ACAtgG;AACE;AAEE;AAEnD,IAAM,SAAS,GAAW;IAC/B,EAAE,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,+EAAiB,EAAG,IAAI,EAAE,EAAE,KAAK,EAAE,yBAAyB,EAAE,EAAE;CACxF,CAAC;AAWF;IAAA;IAA0C,CAAC;IAA9B,2BAA2B;QAVvC,uEAAQ,CAAC;YACR,OAAO,EAAE;gBACP,qEAAY,CAAC,QAAQ,CAAC,SAAS,CAAC;aACjC;YACD,OAAO,EAAE;gBACP,qEAAY;aACb;YACD,SAAS,EAAE,EACV;SACF,CAAC;OACW,2BAA2B,CAAG;IAAD,kCAAC;CAAA;AAAH","file":"0.f464b68012e5a6ede38d.chunk.js","sourcesContent":["import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormBuilder, FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { I18NextModule, I18NEXT_NAMESPACE } from 'angular-i18next';\nimport { I18NextValidationMessageModule } from 'angular-validation-message';\nimport { ValidationModule } from '../../../lib/validation/ValidationModule';\nimport { RichFormComponent } from './rich-form.component';\nimport { RichFormFeatureRouterModule } from './RichFormFeatureRouterModule';\n\n\n\n\nexport const declarations = [\n  RichFormComponent\n];\n\nexport const providers = [\n  FormBuilder,\n  {\n    provide: I18NEXT_NAMESPACE,\n    useValue: ['not_existing_namespace', 'feature.rich_form']\n  }\n];\n\n@NgModule({\n  bootstrap: declarations,\n  declarations: declarations,\n  providers: providers,\n  imports: [\n    //core\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    //feature\n    RichFormFeatureRouterModule,\n\n    //lib\n    I18NextModule,\n    ValidationModule,\n    I18NextValidationMessageModule,\n  ]\n})\nexport class RichFormFeatureModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/angular2-template-loader!./node_modules/angular2-router-loader/src!./src/app/features/rich_form_feature/RichFormFeatureModule.ts","import { Injectable } from '@angular/core';\r\nimport { FormGroup, FormArray, AbstractControl } from '@angular/forms';\r\n\r\n@Injectable()\r\nexport class ValidationDirtyChecker {\r\n  markControlsDirty(group: FormGroup | FormArray) {\r\n    let controls = group.controls;\r\n    for (let ck in controls) {\r\n      if (controls.hasOwnProperty(ck)) {\r\n        let c: AbstractControl = controls[ck];\r\n        c.markAsDirty({ onlySelf: true });\r\n        if (c instanceof FormGroup || c instanceof FormArray)\r\n          this.markControlsDirty(c);\r\n      }\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/angular2-template-loader!./node_modules/angular2-router-loader/src!./src/lib/validation/services/ValidationDirtyChecker.ts","import { Component, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\n\r\nimport { ValidationDirtyChecker } from '../../../lib/validation/services/ValidationDirtyChecker';\r\nimport { RichFormModel } from './rich-form.model';\r\n\r\n@Component({\r\n  selector: 'rich-form',\r\n  encapsulation: ViewEncapsulation.None,\r\n  template: require('./rich-form.component.html')\r\n})\r\nexport class RichFormComponent implements OnInit {\r\n\r\n  form: FormGroup;\r\n  model: RichFormModel = new RichFormModel();\r\n\r\n  constructor(private fb: FormBuilder, private vdc: ValidationDirtyChecker){\r\n    this.form = this.fb.group({\r\n      'count': [this.model.count, [Validators.min(1), Validators.max(3)]],\r\n      'email': [this.model.email, [Validators.email]],\r\n      'technicalContact': this.fb.group({\r\n        'firstName': [this.model.technicalContact.firstName, [Validators.required]],\r\n        'lastName': [this.model.technicalContact.lastName, [Validators.required]],\r\n        'middleName': [this.model.technicalContact.middleName, [Validators.required]],\r\n      })\r\n    });\r\n  }\r\n\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n\r\n  onSubmit(e: Event) {\r\n    this.form.controls['technicalContact'].updateValueAndValidity();\r\n\r\n    if (!this.form.valid) {\r\n      this.vdc.markControlsDirty(this.form);\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/angular2-template-loader!./node_modules/angular2-router-loader/src!./src/app/features/rich_form_feature/rich-form.component.ts","import { NgModule } from '@angular/core';\r\n\r\nimport { ValidationOnBlurDirective } from './directives/ValidationOnBlurDirective';\r\nimport { ValidationDirtyChecker } from './services/ValidationDirtyChecker';\r\n\r\n\r\nexport const declarations = [\r\n  ValidationOnBlurDirective\r\n];\r\n\r\n@NgModule({\r\n  declarations: declarations,\r\n  exports: declarations,\r\n  providers: [\r\n    ValidationDirtyChecker\r\n  ]\r\n})\r\nexport class ValidationModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/angular2-template-loader!./node_modules/angular2-router-loader/src!./src/lib/validation/ValidationModule.ts","import { Directive } from '@angular/core';\r\nimport { NgControl } from '@angular/forms';\r\n\r\n@Directive({\r\n    selector: '[validate-onblur]',\r\n    host: {\r\n        '(focus)': 'onFocus($event)',\r\n        '(blur)': 'onBlur($event)',\r\n        '(keyup)': 'onKeyup($event)',\r\n        '(change)': 'onChange($event)'\r\n    }\r\n})\r\n// cache and remove validation on focus, and restore on blur\r\nexport class ValidationOnBlurDirective {\r\n    private validators: any;\r\n    private asyncValidators: any;\r\n    private wasChanged: any;\r\n    constructor(public formControl: NgControl) {\r\n    }\r\n    onFocus($event) {\r\n        this.wasChanged = false;\r\n        this.validators = this.formControl.control.validator;\r\n        this.asyncValidators = this.formControl.control.asyncValidator;\r\n        this.formControl.control.clearAsyncValidators();\r\n        this.formControl.control.clearValidators();\r\n    }\r\n    onKeyup($event) {\r\n        this.wasChanged = true; // keyboard change\r\n    }\r\n    onChange($event) {\r\n        this.wasChanged = true; // ng-value change\r\n    }\r\n    onBlur($event) {\r\n        this.formControl.control.setAsyncValidators(this.asyncValidators);\r\n        this.formControl.control.setValidators(this.validators);\r\n        if (this.wasChanged)\r\n            this.formControl.control.updateValueAndValidity();\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/angular2-template-loader!./node_modules/angular2-router-loader/src!./src/lib/validation/directives/ValidationOnBlurDirective.ts","export class Contact {\r\n    lastName: string;\r\n    firstName: string;\r\n    middleName: string;\r\n}\r\n\r\nexport class RichFormModel {\r\n    email: string;\r\n    count: Number = 0;\r\n    technicalContact: Contact = new Contact();\r\n} \n\n\n// WEBPACK FOOTER //\n// ./node_modules/angular2-template-loader!./node_modules/angular2-router-loader/src!./src/app/features/rich_form_feature/rich-form.model.ts","module.exports = \"<div>\\n    <div class=\\\"main-header\\\">\\n        <h1>{{ 'title' | i18next: { case: 'cap' } }}</h1>\\n    </div>\\n    <br/>\\n    <form #requestHtmlForm class=\\\"form-default\\\" name=\\\"requestHtmlForm\\\" [formGroup]=\\\"form\\\" (ngSubmit)=\\\"onSubmit($event)\\\">\\n\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-6\\\">\\n                <div class=\\\"form-group\\\">\\n                    <label class=\\\"control-label control-label-sm text-muted\\\">{{ 'email' | i18nextCap }}</label>\\n                    <input validate-onblur validationMessage name=\\\"email\\\" type=\\\"email\\\" class=\\\"form-control\\\" formControlName=\\\"email\\\" [(ngModel)]=\\\"model.email\\\" />\\n                </div>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n                <div class=\\\"form-group\\\">\\n                    <label class=\\\"control-label control-label-sm text-muted\\\">{{ 'count' | i18nextCap }}</label>\\n                    <input validate-onblur validationMessage name=\\\"count\\\" type=\\\"number\\\" class=\\\"form-control\\\" formControlName=\\\"count\\\" [(ngModel)]=\\\"model.count\\\" />\\n                </div>\\n            </div>\\n        </div>\\n\\n        <div class=\\\"form-group\\\">\\n            <div>{{ 'technical_contact' | i18nextEager }}</div>\\n        </div>\\n\\n        <div formGroupName=\\\"technicalContact\\\">\\n\\n            <div class=\\\"row\\\">\\n                <div class=\\\"col-6\\\">\\n                    <div class=\\\"form-group\\\">\\n                        <label class=\\\"control-label control-label-sm text-muted\\\">{{ '_person.last_name' | i18next: { format: 'cap' } }}</label>\\n                        <input validate-onblur validationMessage class=\\\"form-control\\\" type=\\\"text\\\" formControlName=\\\"lastName\\\" [(ngModel)]=\\\"model.technicalContact.lastName\\\" />\\n                    </div>\\n                </div>\\n                <div class=\\\"col-6\\\">\\n                    <div class=\\\"form-group\\\">\\n                        <label class=\\\"control-label control-label-sm text-muted\\\">{{ '_person.first_name' | i18next: { format: 'cap' } }}</label>\\n                        <input validate-onblur validationMessage class=\\\"form-control\\\" type=\\\"text\\\" formControlName=\\\"firstName\\\" [(ngModel)]=\\\"model.technicalContact.firstName\\\">\\n                    </div>\\n                </div>\\n            </div>\\n\\n            <div class=\\\"row\\\">\\n                <div class=\\\"col-6\\\">\\n                    <div class=\\\"form-group\\\">\\n                        <label class=\\\"control-label control-label-sm text-muted\\\">{{ '_person.middle_name' | i18next: { format: 'cap' } }}</label>\\n                        <input validate-onblur validationMessage class=\\\"form-control\\\" type=\\\"text\\\" formControlName=\\\"middleName\\\" [(ngModel)]=\\\"model.technicalContact.middleName\\\">\\n                    </div>\\n                </div>\\n                <div class=\\\"col-6\\\">\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-4\\\">\\n                <div class=\\\"form-group\\\">\\n                    <button type=\\\"submit\\\" class=\\\"btn btn-primary btn-block\\\">{{ '_buttons.send' | i18nextCap }}</button>\\n                </div>\\n            </div>\\n        </div>\\n    </form>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/features/rich_form_feature/rich-form.component.html\n// module id = 536\n// module chunks = 0","import { NgModule }              from '@angular/core';\r\nimport { RouterModule, Routes }  from '@angular/router';\r\n\r\nimport { RichFormComponent } from './rich-form.component';\r\n\r\nexport const appRoutes: Routes = [\r\n  { path: '', component: RichFormComponent,  data: { title: 'feature.rich_form:title' } }\r\n];\r\n@NgModule({\r\n  imports: [\r\n    RouterModule.forChild(appRoutes)\r\n  ],\r\n  exports: [\r\n    RouterModule\r\n  ],\r\n  providers: [\r\n  ]\r\n})\r\nexport class RichFormFeatureRouterModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/angular2-template-loader!./node_modules/angular2-router-loader/src!./src/app/features/rich_form_feature/RichFormFeatureRouterModule.ts"],"sourceRoot":""}